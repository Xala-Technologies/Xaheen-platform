/**
 * {{className}} Routes - Express Router
 *
 * Generated by Xaheen CLI Controller Generator
 * @since {{generatedAt}}
 */

import { Router } from 'express';
import { {{camelCase name}}Controller } from '../controllers/{{name}}.controller.js';
{{#if middleware}}
import {
  {{#each middleware}}
  {{this}},
  {{/each}}
} from '../middleware/index.js';
{{/if}}
import { validateRequest } from '../middleware/validate-request.js';
import { rateLimiter } from '../middleware/rate-limiter.js';

const router = Router();

/**
 * {{modelName}} API Routes
 * 
 * Base path: /api/{{name}}
 */

{{#each actions}}
// {{description}}
router.{{toLowerCase method}}('{{path}}'{{#if ../middleware}}, {{#each ../middleware}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}{{/if}}{{#if (eq name 'create')}}, rateLimiter{{/if}}{{#if ../validation}}, validateRequest{{/if}}, {{../camelCase ../name}}Controller.{{name}});
{{/each}}

// Health check endpoint
router.get('/health', {{camelCase name}}Controller.health);

// Statistics endpoint
router.get('/stats', {{camelCase name}}Controller.stats);

export { router as {{camelCase name}}Routes };

/**
 * Route documentation
 * 
 * GET    /api/{{name}}        - Get all {{name}}s (with pagination)
 * GET    /api/{{name}}/:id    - Get {{name}} by ID
 * POST   /api/{{name}}        - Create new {{name}}
 * PUT    /api/{{name}}/:id    - Update {{name}} by ID
 * DELETE /api/{{name}}/:id    - Delete {{name}} by ID
 * GET    /api/{{name}}/health - Health check
 * GET    /api/{{name}}/stats  - Get statistics
 * 
 * Query Parameters (for GET /api/{{name}}):
 * - page: Page number (default: 1)
 * - limit: Items per page (default: 10, max: 100)
 * - sortBy: Sort field (default: createdAt)
 * - sortOrder: Sort order - asc|desc (default: desc)
 * - search: Search query
 * 
 * Example requests:
 * 
 * GET /api/{{name}}?page=1&limit=20&sortBy=createdAt&sortOrder=desc
 * GET /api/{{name}}/123e4567-e89b-12d3-a456-426614174000
 * POST /api/{{name}} { "field": "value" }
 * PUT /api/{{name}}/123e4567-e89b-12d3-a456-426614174000 { "field": "new_value" }
 * DELETE /api/{{name}}/123e4567-e89b-12d3-a456-426614174000
 */