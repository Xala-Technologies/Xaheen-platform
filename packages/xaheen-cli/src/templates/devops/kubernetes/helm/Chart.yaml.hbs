# Helm Chart for {{projectName}}
# Generated by Xaheen CLI - Production-ready Kubernetes deployment

apiVersion: v2
name: {{projectName}}
description: {{description}}
type: application
version: {{chartVersion}}
appVersion: "{{appVersion}}"
home: {{repositoryUrl}}
sources:
  - {{repositoryUrl}}
maintainers:
  - name: {{maintainerName}}
    email: {{maintainerEmail}}
    url: {{maintainerUrl}}
keywords:
  - {{projectType}}
  - microservice
  - nodejs
  - kubernetes
  {{#each keywords}}
  - {{this}}
  {{/each}}

# Chart dependencies
dependencies:
  {{#if useDatabase}}
  - name: postgresql
    version: "12.12.10"
    repository: "https://charts.bitnami.com/bitnami"
    condition: postgresql.enabled
  {{/if}}
  {{#if useRedis}}
  - name: redis
    version: "18.1.5" 
    repository: "https://charts.bitnami.com/bitnami"
    condition: redis.enabled
  {{/if}}
  {{#if enableMonitoring}}
  - name: prometheus
    version: "25.6.0"
    repository: "https://prometheus-community.github.io/helm-charts"
    condition: prometheus.enabled
  - name: grafana
    version: "7.0.8"
    repository: "https://grafana.github.io/helm-charts"
    condition: grafana.enabled
  {{/if}}
  {{#if enableIstio}}
  - name: base
    version: "1.19.3"
    repository: "https://istio-release.storage.googleapis.com/charts"
    condition: istio.enabled
  - name: istiod
    version: "1.19.3"
    repository: "https://istio-release.storage.googleapis.com/charts"
    condition: istio.enabled
  {{/if}}

# Annotations for additional metadata
annotations:
  category: Application
  licenses: {{license}}
  artifacthub.io/changes: |
    - kind: added
      description: Initial Helm chart for {{projectName}}
  artifacthub.io/containsSecurityUpdates: "true"
  artifacthub.io/prerelease: "false"
  artifacthub.io/images: |
    - name: {{projectName}}
      image: {{image.repository}}:{{image.tag}}
  artifacthub.io/links: |
    - name: Chart Source
      url: {{repositoryUrl}}/tree/main/helm
    - name: Documentation  
      url: {{documentationUrl}}
  artifacthub.io/maintainers: |
    - name: {{maintainerName}}
      email: {{maintainerEmail}}
  artifacthub.io/operator: "false"
  artifacthub.io/signKey: |
    fingerprint: {{signKeyFingerprint}}
    url: {{signKeyUrl}}

# Icon for the chart
icon: {{iconUrl}}

# Whether this chart is deprecated
deprecated: false

# KubeVersion constraint
kubeVersion: ">=1.25.0-0"