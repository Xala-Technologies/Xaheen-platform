# Compute module outputs
# Generated by Xaheen CLI Terraform Generator

{{#eq cloudProvider "aws"}}
{{#if compute.autoScaling}}
output "autoscaling_group_name" {
  description = "Name of the Auto Scaling Group"
  value       = aws_autoscaling_group.main.name
}

output "autoscaling_group_arn" {
  description = "ARN of the Auto Scaling Group"
  value       = aws_autoscaling_group.main.arn
}

output "instance_ids" {
  description = "List of instance IDs from Auto Scaling Group"
  value       = []
}
{{else}}
output "instance_ids" {
  description = "List of EC2 instance IDs"
  value       = aws_instance.main[*].id
}

output "instance_public_ips" {
  description = "List of public IP addresses assigned to the instances"
  value       = aws_instance.main[*].public_ip
}

output "instance_private_ips" {
  description = "List of private IP addresses assigned to the instances"
  value       = aws_instance.main[*].private_ip
}
{{/if}}

output "launch_template_id" {
  description = "ID of the launch template"
  value       = aws_launch_template.main.id
}

output "security_group_id" {
  description = "ID of the instance security group"
  value       = aws_security_group.instance.id
}

{{#if compute.loadBalancer}}
output "load_balancer_dns_name" {
  description = "DNS name of the load balancer"
  value       = aws_lb.main.dns_name
}

output "load_balancer_zone_id" {
  description = "Canonical hosted zone ID of the load balancer"
  value       = aws_lb.main.zone_id
}

output "load_balancer_arn" {
  description = "ARN of the load balancer"
  value       = aws_lb.main.arn
}

output "target_group_arn" {
  description = "ARN of the target group"
  value       = var.enable_load_balancer ? aws_lb_target_group.main[0].arn : null
}
{{/if}}
{{/eq}}

{{#eq cloudProvider "azure"}}
output "vmss_id" {
  description = "ID of the Virtual Machine Scale Set"
  value       = azurerm_virtual_machine_scale_set.main.id
}

output "vmss_name" {
  description = "Name of the Virtual Machine Scale Set"
  value       = azurerm_virtual_machine_scale_set.main.name
}

{{#if compute.loadBalancer}}
output "load_balancer_public_ip" {
  description = "Public IP address of the load balancer"
  value       = azurerm_public_ip.main.ip_address
}

output "load_balancer_fqdn" {
  description = "FQDN of the load balancer"
  value       = azurerm_public_ip.main.fqdn
}

output "load_balancer_id" {
  description = "ID of the load balancer"
  value       = azurerm_lb.main.id
}
{{/if}}

{{#if compute.autoScaling}}
output "autoscale_setting_id" {
  description = "ID of the autoscale setting"
  value       = azurerm_monitor_autoscale_setting.main.id
}
{{/if}}
{{/eq}}

{{#eq cloudProvider "gcp"}}
output "service_account_email" {
  description = "Email of the service account"
  value       = google_service_account.main.email
}

output "instance_template_id" {
  description = "ID of the instance template"
  value       = google_compute_instance_template.main.id
}

{{#if compute.autoScaling}}
output "instance_group_manager_id" {
  description = "ID of the instance group manager"
  value       = google_compute_instance_group_manager.main.id
}

output "instance_group_manager_instance_group" {
  description = "Instance group of the instance group manager"
  value       = google_compute_instance_group_manager.main.instance_group
}

output "autoscaler_id" {
  description = "ID of the autoscaler"
  value       = google_compute_autoscaler.main.id
}

output "health_check_id" {
  description = "ID of the health check"
  value       = google_compute_health_check.main.id
}
{{else}}
output "instance_ids" {
  description = "List of GCP instance IDs"
  value       = google_compute_instance.main[*].id
}

output "instance_names" {
  description = "List of instance names"
  value       = google_compute_instance.main[*].name
}

output "instance_external_ips" {
  description = "List of external IP addresses assigned to the instances"
  value       = google_compute_instance.main[*].network_interface[0].access_config[0].nat_ip
}

output "instance_internal_ips" {
  description = "List of internal IP addresses assigned to the instances"
  value       = google_compute_instance.main[*].network_interface[0].network_ip
}
{{/if}}

{{#if compute.loadBalancer}}
output "load_balancer_ip" {
  description = "IP address of the global load balancer"
  value       = google_compute_global_address.main.address
}

output "backend_service_id" {
  description = "ID of the backend service"
  value       = google_compute_backend_service.main.id
}

output "url_map_id" {
  description = "ID of the URL map"
  value       = google_compute_url_map.main.id
}
{{/if}}
{{/eq}}