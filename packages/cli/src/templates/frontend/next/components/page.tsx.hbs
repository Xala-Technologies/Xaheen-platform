{{!-- Template: page.tsx.hbs --}}
{{!-- Category: frontend --}}
{{!-- Type: component --}}
{{!-- Framework: next --}}
{{!-- Migrated from: /Volumes/Development/Xaheen Enterprise/xaheen/apps/cli/templates/frontend/react/next/src/app/page.tsx.hbs --}}
"use client"
{{#if (eq ui "xala")}}
import { useTranslation } from "next-intl";
import {
  Container,
  Grid,
  Card,
  CardContent,
  CardHeader,
  CardTitle,
  Text,
  CodeBlock,
  StatusIndicator,
  Flex
} from "@xala-technologies/ui-system";
{{/if}}
{{#if (eq backend "convex")}}
import { useQuery } from "convex/react";
import { api } from "@{{projectName}}/backend/convex/_generated/api";
{{else if (or (eq api "orpc") (eq api "trpc"))}}
import { useQuery } from "@tanstack/react-query";
  {{#if (eq api "orpc")}}
import { orpc } from "@/utils/orpc";
  {{/if}}
  {{#if (eq api "trpc")}}
import { trpc } from "@/utils/trpc";
  {{/if}}
{{/if}}

const TITLE_TEXT = `
██╗  ██╗ █████╗ ██╗  ██╗███████╗███████╗███╗   ██╗
╚██╗██╔╝██╔══██╗██║  ██║██╔════╝██╔════╝████╗  ██║
 ╚███╔╝ ███████║███████║█████╗  █████╗  ██╔██╗ ██║
 ██╔██╗ ██╔══██║██╔══██║██╔══╝  ██╔══╝  ██║╚██╗██║
██╔╝ ██╗██║  ██║██║  ██║███████╗███████╗██║ ╚████║
╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝╚═╝  ╚═══╝

██████╗ ██╗   ██╗██╗██╗     ██████╗ ███████╗██████╗
██╔══██╗██║   ██║██║██║     ██╔══██╗██╔════╝██╔══██╗
██████╔╝██║   ██║██║██║     ██║  ██║█████╗  ██████╔╝
██╔══██╗██║   ██║██║██║     ██║  ██║██╔══╝  ██╔══██╗
██████╔╝╚██████╔╝██║███████╗██████╔╝███████╗██║  ██║
╚═════╝  ╚═════╝ ╚═╝╚══════╝╚═════╝ ╚══════╝╚═╝  ╚═╝
 `;

export default function Home(){{#if (eq ui "xala")}}: JSX.Element{{/if}} {
{{#if (eq ui "xala")}}
  const { t } = useTranslation();
{{/if}}
  {{#if (eq backend "convex")}}
  const healthCheck = useQuery(api.healthCheck.get);
  {{else if (eq api "orpc")}}
  const healthCheck = useQuery(orpc.healthCheck.queryOptions());
  {{else if (eq api "trpc")}}
  const healthCheck = useQuery(trpc.healthCheck.queryOptions());
  {{/if}}

{{#if (eq ui "xala")}}
  const getStatusText = (): string => {
    if (healthCheck.isLoading) return t('api.status.checking', 'Checking...');
    return healthCheck.data 
      ? t('api.status.connected', 'Connected')
      : t('api.status.disconnected', 'Disconnected');
  };
  
  const getStatusVariant = (): 'success' | 'error' | 'warning' => {
    if (healthCheck.isLoading) return 'warning';
    return healthCheck.data ? 'success' : 'error';
  };
{{/if}}

  return (
{{#if (eq ui "xala")}}
    <Container maxWidth="3xl" padding="md">
      <CodeBlock 
        language="text" 
        variant="default"
        overflow="auto"
        fontSize="sm"
      >
        {TITLE_TEXT}
      </CodeBlock>
      
      <Grid gap="lg" marginTop="lg">
        <Card variant="outlined" padding="md">
          <CardHeader>
            <CardTitle level={2} size="md">
              {t('api.status.title', 'API Status')}
            </CardTitle>
          </CardHeader>
          <CardContent>
            <Flex align="center" gap="sm">
              <StatusIndicator 
                variant={getStatusVariant()}
                size="sm"
              />
              <Text 
                variant="body" 
                color="muted"
              >
                {getStatusText()}
              </Text>
            </Flex>
          </CardContent>
        </Card>
      </Grid>
    </Container>
{{else}}
    <div className="container mx-auto max-w-3xl px-4 py-2">
      <pre className="overflow-x-auto font-mono text-sm">{TITLE_TEXT}</pre>
      <div className="grid gap-6">
        <section className="rounded-lg border p-4">
          <h2 className="mb-2 font-medium">API Status</h2>
          {{#if (eq backend "convex")}}
          <div className="flex items-center gap-2">
            <div
              className=""`}
            />
            <span className="text-sm text-muted-foreground">
              {healthCheck === undefined
                ? "Checking..."
                : healthCheck === "OK"
                  ? "Connected"
                  : "Error"}
            </span>
          </div>
          {{else}}
            {{#unless (eq api "none")}}
            <div className="flex items-center gap-2">
              <div
                className=""`}
              />
              <span className="text-sm text-muted-foreground">
                {healthCheck.isLoading
                  ? "Checking..."
                  : healthCheck.data
                    ? "Connected"
                    : "Disconnected"}
              </span>
            </div>
            {{/unless}}
          {{/if}}
        </section>
      </div>
    </div>
{{/if}}
  );
}
